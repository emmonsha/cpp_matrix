–û—Ç–ª–∏—á–Ω–æ, –ø–æ–Ω—è–ª –∑–∞–¥–∞—á—É!

–¢–µ–ø–µ—Ä—å –º—ã **–ø–µ—Ä–µ–ø–∏—à–µ–º –º–µ—Ç–æ–¥–∏—á–µ—Å–∫–æ–µ –ø–æ—Å–æ–±–∏–µ —Å –Ω—É–ª—è**, –Ω–∞—á–∏–Ω–∞—è —Å **–≠—Ç–∞–ø–∞ 2**, –Ω–æ —Å –Ω–æ–≤—ã–º –ø–æ–¥—Ö–æ–¥–æ–º:

---

## üìò **–ú–µ—Ç–æ–¥–∏—á–µ—Å–∫–æ–µ –ø–æ—Å–æ–±–∏–µ: –û—Ç –° –∫ C++ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –º–∞—Ç—Ä–∏—Ü—ã**  
**–î–ª—è —Ç–µ—Ö, –∫—Ç–æ –∑–Ω–∞–µ—Ç –°, –Ω–æ –Ω–æ–≤–∏—á–æ–∫ –≤ C++**  
*–£—Ä–æ–≤–µ–Ω—å: –æ—Ç C –∫ C++ (—Å –Ω—É–ª—è)*  
*–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: Linux (Ubuntu/Debian)*

---

## üß± –≠—Ç–∞–ø 2: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –æ—Ç `struct` –∫ `class`

> üí° –¢—ã –∑–Ω–∞–µ—à—å –°: —Ä–∞–±–æ—Ç–∞–ª —Å `struct`, `malloc`, `#define`.  
> –í C++ –µ—Å—Ç—å **–∫–ª–∞—Å—Å—ã**, –∫–æ—Ç–æ—Ä—ã–µ ‚Äî –∫–∞–∫ `struct`, –Ω–æ **–º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ (–º–µ—Ç–æ–¥—ã)**, **–∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ** –∏ **—É–ø—Ä–∞–≤–ª—è—Ç—å –ø–∞–º—è—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**.

---

### üîß 2.1. –û—Ç–ª–∏—á–∏–µ `struct` –≤ –° –æ—Ç `class` –≤ C++

| –í –° | –í C++ |
|-----|-------|
| `struct Point { int x, y; };` | `class Point { int x, y; };` |
| –¢–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ | –î–∞–Ω–Ω—ã–µ + —Ñ—É–Ω–∫—Ü–∏–∏ |
| –ù–µ—Ç –º–µ—Ç–æ–¥–æ–≤ | –ï—Å—Ç—å –º–µ—Ç–æ–¥—ã (—Ñ—É–Ω–∫—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞) |
| –ü–æ–ª—è –ø—É–±–ª–∏—á–Ω—ã–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ |

> ‚úÖ –í C++ `class` ‚Äî —ç—Ç–æ –∫–∞–∫ `struct`, –Ω–æ **—Å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –¥–æ–±–∞–≤–ª—è—Ç—å **–º–µ—Ç–æ–¥—ã**.

---

### üîß 2.2. –°–æ–∑–¥–∞—ë–º –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª:

```bash
cd ~/cpp_matrix_project/src
touch s21_matrix_oop.h
```

–û—Ç–∫—Ä–æ–π –µ–≥–æ –∏ –≤—Å—Ç–∞–≤—å:

```cpp
// src/s21_matrix_oop.h
#ifndef S21_MATRIX_OOP_H
#define S21_MATRIX_OOP_H

#include <stdexcept>  // –¥–ª—è std::out_of_range

namespace s21 {  // –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º—ë–Ω ‚Äî –∫–∞–∫ "–ø–∞–ø–∫–∞" –¥–ª—è –∫–ª–∞—Å—Å–æ–≤

class S21Matrix {
 public:
  // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã ‚Äî –∫–∞–∫ "—Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è"
  S21Matrix();                    // S21Matrix mat;
  S21Matrix(int rows, int cols);  // S21Matrix mat(2, 3);
  S21Matrix(const S21Matrix& other);           // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
  S21Matrix(S21Matrix&& other) noexcept;       // –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ
  ~S21Matrix();                               // –î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä ‚Äî –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø–∞–º—è—Ç—å

  // –ì–µ—Ç—Ç–µ—Ä—ã (accessors)
  int get_rows() const;
  int get_cols() const;

  // –°–µ—Ç—Ç–µ—Ä—ã (mutators)
  void set_rows(int rows);
  void set_cols(int cols);

  // –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
  bool EqMatrix(const S21Matrix& other) const;
  void SumMatrix(const S21Matrix& other);
  void SubMatrix(const S21Matrix& other);
  void MulNumber(const double num);
  void MulMatrix(const S21Matrix& other);

  // –ú–∞—Ç—Ä–∏—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
  S21Matrix Transpose() const;
  S21Matrix CalcComplements() const;
  double Determinant() const;
  S21Matrix InverseMatrix() const;

  // –ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ ‚Äî –¥–µ–ª–∞–µ–º –º–∞—Ç—Ä–∏—Ü—É "—É–¥–æ–±–Ω–æ–π"
  S21Matrix& operator=(const S21Matrix& other);
  S21Matrix& operator=(S21Matrix&& other) noexcept;
  S21Matrix operator+(const S21Matrix& other) const;
  S21Matrix operator-(const S21Matrix& other) const;
  S21Matrix operator*(const S21Matrix& other) const;
  S21Matrix operator*(const double num) const;
  bool operator==(const S21Matrix& other) const;
  S21Matrix& operator+=(const S21Matrix& other);
  S21Matrix& operator-=(const S21Matrix& other);
  S21Matrix& operator*=(const S21Matrix& other);
  S21Matrix& operator*=(const double num);
  double& operator()(int i, int j);           // mat(0, 0) = 5;
  const double& operator()(int i, int j) const;

 private:
  double** matrix_;  // –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –º–∞—Å—Å–∏–≤ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π ‚Äî –∫–∞–∫ –≤ –°
  int rows_;         // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫
  int cols_;         // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–æ–ª–±—Ü–æ–≤

  // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã (–Ω–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
  void AllocateMatrix();     // –í—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ (–∫–∞–∫ malloc –≤ –°)
  void FreeMatrix();         // –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ (–∫–∞–∫ free)
  void CopyMatrix(const S21Matrix& other);  // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
  double CalcDeterminant() const;
  S21Matrix GetMinorMatrix(int row, int col) const;
};

// –£–º–Ω–æ–∂–µ–Ω–∏–µ —á–∏—Å–ª–∞ –Ω–∞ –º–∞—Ç—Ä–∏—Ü—É: 2.0 * matrix
S21Matrix operator*(const double num, const S21Matrix& matrix);

}  // namespace s21

#endif  // S21_MATRIX_OOP_H
```

---

### ‚úÖ 2.3. –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞ –Ω–∞ –°

| –° | C++ |
|---|-----|
| `struct { int x, y; } point;` | `class Point { int x, y; };` |
| `point.x = 5;` | `point.get_x()` ‚Äî –ª—É—á—à–µ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è |
| `malloc(rows * cols * sizeof(double))` | `new double*[rows]` ‚Äî C++-–≤—ã–¥–µ–ª–µ–Ω–∏–µ |
| `free(matrix)` | `~S21Matrix()` ‚Äî –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** |
| `matrix[i][j]` | `matrix(i, j)` ‚Äî –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ `()` –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ |
| `#define MAX 100` | `const int max = 100;` ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ |

> üí° –í C++:
> - **–ö–ª–∞—Å—Å —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–≤–æ–µ–π –ø–∞–º—è—Ç—å—é** ‚Äî –Ω–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –≤—ã–∑—ã–≤–∞—Ç—å `free`.
> - **–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä** ‚Äî –∫–∞–∫ `init()`, –Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
> - **–î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä** ‚Äî –∫–∞–∫ `cleanup()`, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è.

---

### üîç –ü—Ä–∏–º–µ—Ä: –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä?

–í –° —Ç—ã –¥–µ–ª–∞–ª —Ç–∞–∫:

```c
Matrix* create_matrix(int rows, int cols) {
    Matrix* m = malloc(sizeof(Matrix));
    m->rows = rows;
    m->cols = cols;
    m->data = malloc(rows * cols * sizeof(double));
    return m;
}
```

–í C++ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç **–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä**:

```cpp
S21Matrix mat(3, 3);  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
```

---

### ‚úÖ 2.4. –ó–∞—á–µ–º –Ω—É–∂–Ω–æ `namespace s21`?

–ö–∞–∫ –≤ –° —Ç—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –ø—Ä–µ—Ñ–∏–∫—Å—ã:

```c
s21_matrix_create();
s21_matrix_free();
```

–í C++ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º—ë–Ω**:

```cpp
namespace s21 {
    class S21Matrix { ... };
}
```

–¢–µ–ø–µ—Ä—å:
```cpp
s21::S21Matrix mat;  // –∫–∞–∫ s21_matrix_create()
```

> ‚úÖ –ò–∑–±–µ–≥–∞–µ–º –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏–º—ë–Ω, –∫–∞–∫ –≤ –° —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏.

---

### ‚úÖ 2.5. –ü–æ—á–µ–º—É `private`?

–í –° —Ç—ã –ø–∏—Å–∞–ª:

```c
// matrix.h
typedef struct {
    double* data;
    int rows, cols;
} Matrix;

// matrix.c
// –†–µ–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî —Å–∫—Ä—ã—Ç–∞
```

–í C++ –º–æ–∂–Ω–æ **—è–≤–Ω–æ —Å–∫—Ä—ã—Ç—å** –¥–∞–Ω–Ω—ã–µ:

```cpp
private:
  double** matrix_;
  int rows_, cols_;
```

> ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –º–µ–Ω—è—Ç—å `matrix_` ‚Äî —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥—ã.

---

### üìö –ß—Ç–æ –∏–∑—É—á–∏—Ç—å –Ω–æ–≤–∏—á–∫—É:

| –¢–µ–º–∞ | –û–±—ä—è—Å–Ω–µ–Ω–∏–µ |
|------|-----------|
| `class` vs `struct` | –í C++ `class` ‚Äî –∫–∞–∫ `struct`, –Ω–æ –ø–æ–ª—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `private` |
| –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä | –§—É–Ω–∫—Ü–∏—è —Å –∏–º–µ–Ω–µ–º –∫–ª–∞—Å—Å–∞ ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ |
| –î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä | `~ClassName()` ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–∏ |
| `new` / `delete` | –ê–Ω–∞–ª–æ–≥ `malloc` / `free`, –Ω–æ —Å –≤—ã–∑–æ–≤–æ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤ |
| `namespace` | –ö–∞–∫ –ø—Ä–µ—Ñ–∏–∫—Å –≤ –°, –Ω–æ —á–∏—Ç–∞–µ–º–µ–µ |
| `const` –ø–æ—Å–ª–µ –º–µ—Ç–æ–¥–∞ | –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –º–µ—Ç–æ–¥ –Ω–µ –º–µ–Ω—è–µ—Ç –æ–±—ä–µ–∫—Ç |

---

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω:

```bash
cat s21_matrix_oop.h
```

---

‚úÖ **–≠—Ç–∞–ø 2 –∑–∞–≤–µ—Ä—à—ë–Ω.**  
–¢–µ–ø–µ—Ä—å —Ç—ã –ø–æ–Ω–∏–º–∞–µ—à—å:
- –ö–∞–∫ **–ø–µ—Ä–µ–π—Ç–∏ –æ—Ç –° –∫ C++**,
- –ß—Ç–æ —Ç–∞–∫–æ–µ **–∫–ª–∞—Å—Å, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä**,
- –ö–∞–∫ **–∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ**,
- –ò –∑–∞—á–µ–º –Ω—É–∂–µ–Ω `namespace`.

---

–ì–æ—Ç–æ–≤ –∫ **–≠—Ç–∞–ø—É 3: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é (–∫–∞–∫ –≤ –°, –Ω–æ –≤ C++)**?

–ù–∞–ø–∏—à–∏: **"–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø"** ‚Äî –∏ —è –ø—Ä–æ–¥–æ–ª–∂—É.